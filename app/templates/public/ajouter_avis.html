{% extends 'base.html' %}

{% block title %}Ajouter un Avis{% endblock %}

{% block content %}
<div class="container d-flex flex-column justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="w-50">

        <!-- Bouton retour -->
        <div class="mb-3">
            <button onclick="window.history.back()" class="btn btn-outline-secondary">
                ← Retour
            </button>
        </div>

        <!-- Titre -->
        <h1 class="mb-4 text-center">Ajouter un Avis</h1>

        <!-- Formulaire -->
        <form action="{{ url_for('main.ajouter_avis') }}" method="POST">

            <!-- Note -->
            <div class="mb-3">
                <label for="note" class="form-label">Note :</label>
                <input type="number" class="form-control" id="note" name="note" step="1" min="0" max="5" required>
            </div>

            <!-- Commentaire -->
            <div class="mb-3">
                <label for="commentaire" class="form-label">Commentaire :</label>
                <textarea class="form-control" id="commentaire" name="commentaire" rows="4" required></textarea>
            </div>

            <!-- Informations affichées mais non modifiables -->
            <div class="mb-3">
                <label class="form-label">Utilisateur :</label>
                <input type="text" class="form-control" value="{{ utilisateur.username }}" disabled>
                <input type="hidden" name="iduser" value="{{ utilisateur.iduser }}">
            </div>

            <div class="mb-3">
                <label class="form-label">Établissement :</label>
                <input type="text" class="form-control" value="{{ etablissement.nometab }}" disabled>
                <input type="hidden" name="idetab" value="{{ etablissement.idetab }}">
            </div>

            <!-- Bouton de soumission -->
            <button type="submit" class="btn btn-primary w-100">Ajouter</button>
        </form>
    </div>
</div>
{% endblock %}
