{% extends 'base.html' %}

{% block title %}Ajouter un Avis{% endblock %}

{% block content %}
<div class="container d-flex flex-column justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="w-50">

        <!-- Bouton retour -->
        <div class="mb-3">
            <button onclick="window.history.back()" class="btn btn-outline-secondary">
                ← Retour
            </button>
        </div>

        <!-- Titre -->
        <h1 class="mb-4 text-center">Ajouter un Avis</h1>

        <!-- Formulaire -->
        <form action="{{ url_for('main.ajouter_avis') }}" method="POST">
            <div class="mb-3">
                <label for="note" class="form-label">Note :</label>
                <input type="number" class="form-control" id="note" name="note" step="1" min="0" max="5" required>
            </div>

            <div class="mb-3">
                <label for="commentaire" class="form-label">Commentaire :</label>
                <textarea class="form-control" id="commentaire" name="commentaire" rows="4" required></textarea>
            </div>

            <div class="mb-3">
                <label for="iduser" class="form-label">Utilisateur :</label>
                <select class="form-select" id="iduser" name="iduser" required>
                    {% for user in utilisateurs %}
                        <option value="{{ user.iduser }}">{{ user.username }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-3">
                <label for="idetab" class="form-label">Établissement :</label>
                <select class="form-select" id="idetab" name="idetab" required>
                    {% for etab in etablissements %}
                        <option value="{{ etab.idetab }}">{{ etab.nometab }}</option>
                    {% endfor %}
                </select>                
            </div>

            <button type="submit" class="btn btn-primary w-100">Ajouter</button>
        </form>
    </div>
</div>
{% endblock %}
