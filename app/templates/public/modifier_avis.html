{% extends 'base.html' %}

{% block title %}Modifier un Avis{% endblock %}

{% block content %}
<div class="container d-flex flex-column justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="w-50">

        <!-- Bouton retour -->
        <div class="mb-3">
            <button onclick="window.history.back()" class="btn btn-outline-secondary">
                ← Retour
            </button>
        </div>

        <!-- Titre -->
        <h1 class="mb-4 text-center">Modifier un Avis</h1>

        <!-- Formulaire -->
        <form action="{{ url_for('main.modifier_avis', idav=avis.idav) }}" method="POST">
            <div class="mb-3">
                <label for="note" class="form-label">Note :</label>
                <input type="number" class="form-control" id="note" name="note" step="1" min="0" max="5" value="{{ avis.note }}" required>
            </div>

            <div class="mb-3">
                <label for="commentaire" class="form-label">Commentaire :</label>
                <textarea class="form-control" id="commentaire" name="commentaire" rows="4" required>{{ avis.commentaire }}</textarea>
            </div>

            <div class="mb-3">
                <label for="datecreation" class="form-label">Date de Création :</label>
                <input type="date" class="form-control" id="datecreation" name="datecreation" value="{{ avis.datecreation }}" readonly>
            </div>

            <div class="mb-3">
                <label class="form-label">Utilisateur :</label>
                <input type="text" class="form-control" value="{{ utilisateur.username }}" readonly>
            </div>
            
            <div class="mb-3">
                <label class="form-label">Établissement :</label>
                <input type="text" class="form-control" value="{{ etablissement.nometab }}" readonly>
            </div>
            
            <button type="submit" class="btn btn-primary w-100">Modifier</button>
        </form>
    </div>
</div>
{% endblock %}
